<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="icons/icon-512.png"
    />
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-180.png" />
    <title>Quotation PWA</title>
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#111827" />
    <link rel="stylesheet" href="./src/style.css" />

    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
  </head>
  <body class="bg-gray-900 text-gray-100 font-sans min-h-screen flex flex-col">
    <!-- Header -->
    <header
      class="bg-gray-800 shadow-md p-4 flex justify-between items-center sticky top-0 z-50"
    >
      <h1 class="text-xl font-bold text-green-400">Smart Net. Qoutation</h1>
      <span id="installHint" class="text-sm text-gray-400"></span>
    </header>

    <!-- Main -->
    <main class="flex-1 p-4 max-w-3xl w-full mx-auto space-y-4">
      <!-- Customer info -->
      <div class="bg-gray-800 rounded-xl p-4 shadow-md space-y-3">
        <h2 class="text-lg font-semibold border-b border-gray-700 pb-2">
          Customer Details
        </h2>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
          <input
            id="custName"
            type="text"
            placeholder="Customer Name"
            class="p-2 rounded-lg bg-gray-900 border border-gray-700 w-full focus:ring-2 focus:ring-green-400"
          />
          <input
            id="refNo"
            type="text"
            placeholder="Reference #"
            class="p-2 rounded-lg bg-gray-900 border border-gray-700 w-full focus:ring-2 focus:ring-green-400"
          />
          <input
            id="qDate"
            type="date"
            class="p-2 rounded-lg bg-gray-900 border border-gray-700 w-full focus:ring-2 focus:ring-green-400"
          />
        </div>
      </div>

      <!-- Items -->
      <div class="bg-transparent rounded-xl p-0 shadow-md">
        <div class="flex justify-between items-center mb-2">
          <h2 class="text-lg font-semibold">Items</h2>
          <div class="flex gap-2">
            <button
              id="addBtn"
              class="bg-green-500 hover:bg-green-600 text-black px-3 py-1 rounded-lg font-bold"
            >
              ＋ Add Item
            </button>
            <button
              id="clearBtn"
              class="bg-red-500 hover:bg-red-600 px-3 py-1 rounded-lg font-bold"
            >
              Clear
            </button>
          </div>
        </div>

        <!-- Table -->
        <div class="overflow-x-auto">
          <table class="table-auto w-full text-sm">
            <thead class="bg-gray-700 text-gray-300">
              <tr>
                <th class="p-2 text-left">#</th>
                <th class="p-2 text-left">Name</th>
                <th class="p-2 text-left">Qty</th>
                <th class="p-2 text-left">Prc</th>
                <th class="p-2 text-right">Amnt</th>
                <th class="p-2">Act</th>
              </tr>
            </thead>
            <tbody id="itemsBody" class="divide-y divide-gray-700"></tbody>
          </table>
        </div>

        <!-- Totals -->
        <div class="flex justify-end space-x-6 mt-3">
          <div class="text-gray-400">Subtotal:</div>
          <div id="subtotal" class="font-semibold">0</div>
        </div>
        <div class="flex justify-end space-x-6 mt-1">
          <div class="text-gray-400">Total:</div>
          <div id="grandtotal" class="font-semibold">0</div>
        </div>
      </div>

      <!-- Generate -->
      <div class="flex gap-3">
        <button
          id="genBtn"
          class="bg-green-500 hover:bg-green-600 text-black px-5 py-3 rounded-xl font-bold flex-1"
        >
          Generate PDF
        </button>
        <a
          id="dlLink"
          href="#"
          download="Quotation.pdf"
          class="hidden bg-blue-500 hover:bg-blue-600 text-white px-5 py-3 rounded-xl font-bold flex-1 text-center"
        >
          Download PDF
        </a>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 text-xs text-center py-3">
      Works offline • by
      <a href="https://appsphero.com" target="_blank" class="text-green-400"
        >Appsphero</a
      >
    </footer>

    <!-- PDF-LIB -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script type="module" src="/src/app.js"></script>
  </body>
</html>
